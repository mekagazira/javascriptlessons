<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="name" content="content">
    <title>JavaScriptの練習</title>

    <style media="screen">
      .myStyle{
        font-weight:bold;
        border:1px solid gray;
      }
    </style>

  </head>
  <body>


    <h1 id="test">h1</h1>

    <h2>見出し</h2>
    <p id="msg">
      こんにちは！
    </p>

    <button id='add'>click!!</button>

    <!-- <script src="myscript.js"></script> -->

    <script>
      //コメント

      /**
        コメント
      **/

      var msg = "hello world";
      console.log(msg);

      var score = 30;
      if (score > 60) {
        console.log("OK!");
      } else if (score > 40) {
        console.log("soso...");
      } else {
        console.log("NG!");
      }

      /**
        真偽値
          文字列：空文字以外だったらtrue
          数値：0かNaN以外だったらtrue
          true/false
          object：null以外だったらtrue
          undifined,null→false
      **/
      var x;
      if (x !==''){
        // 処理
      }

      /**
        条件分岐 switch
      **/
      var signal = "blue";

      switch (signal) {
          case "red":
            console.log("Stop!");
            break;
          case "blue":
            console.log("Go!");
            break;
          case "yellow":
            console.log("slow down!");
            break;
          default :
            console.log("wrong signal");
            break;
      }

      /**
        ループ処理　for
      **/
      for (var i = 0; i < 10; i++) {
        if(i === 5) {
          continue;
        }
        console.log(i);
      }

      /**
        alert
        confirm
        prompt
      **/
        // alert("hello");"

        // var answer = confirm("hogehoge");
        // console.log(answer);

        // var name = prompt("お名前は？？","ほげ");
        // console.log(name);

      /**
        関数
      **/
        function hello(){
          console.log("hello");
        }

        function helloName(name){
          console.log("hello " + name);
        }

        hello();
        helloName("Tom");
        helloName("Bob");

        // 引数あり
        function helloReturn(name){
          return("hello " + name);
        }
        console.log(helloReturn("Tom"));

        // ローカル変数
        // function helloName2(name){
        //   var tmpmsg = "hello" + name;
        //   return msg;
        // }
        //
        // var greet = helloName2("Tom");
        // console.log(greet);
        // console.log(tmpmsg);

        // 無名関数　匿名関数
        // var hello = function(name){
        //   return("hello " + name);
        // };
        // console.log(hello("Mumei"));

        // 即時関数
        (function(name){
          // 変数を安全に使う
          var x = 1,
              y = 2;
          console.log(x + y);
          console.log("hello " + name);
        })("Sokuji");

        // $('.test').css({
        //   'background-color': rgba(0,0,255,1)  // 2ハイフン形式で指定
        // });



        // ランダムにカラーを作成する関数
        function makeColor () {
            var rr, gg, bb,
                r = Math.floor( Math.random() * 256 ),
                g = Math.floor( Math.random() * 256 ),
                b = Math.floor( Math.random() * 256 );

            // 16進数へ変換
            rr = r.toString(16);
            gg = g.toString(16);
            bb = b.toString(16);

            return "#" + rr + gg + bb;
        }

        // 背景色を変更する関数
        function changecolor(color) {
            var element = document.getElementById("test");
            element.style.backgroundColor = color;
            element.innerHTML= color;
        };

        /**
          タイマー関数
        **/
        var i = 0;
        function show(){
          console.log(i++);

          // [独自] ランダムに背景色の指定を変更する。
          var color = makeColor();
          console.log(color);
          changecolor(color);

          var tid = setTimeout(function(){
            show();
          }, 200);

          if (tid > 3){
            clearTimeout(tid);
          }
        }
        // 初回呼び出し
       show();

       /**
          オブジェクト
       **/
       var user = {
         //プロパティ
         email: "hogehoge@hoge.com",
         score: 80,
         //関数
         greet: function(name){
           console.log("hello" + name + "from " + this.email);
         }
       };
       console.log(user["email"]);
       console.log(user.score);
       user.greet("Tom");

       /**
          組み込みオブジェクト String
       **/
       var s = new String ("hogehoge");
       console.log(s.length);
       console.log(s.replace("h","H"));
       console.log(s.substr(1,4));

       /**
          組み込みオブジェクト Array
       **/
       var a = new Array(100,200,300,400,500);
       console.log(a);
       console.log(a.length);
       a.push(500);
       console.log(a);
       console.log(a.length);
       a.splice(1,2);
       console.log(a);
       console.log(a.length);
       a.splice(1,2,600,700,800);
       console.log(a);
       console.log(a.length);

       /**
          組み込みオブジェクト Math
       **/
       console.log(Math.PI);
       console.log(Math.random());

      /**
         組み込みオブジェクト Date
      **/
      var d = new Date();
      var today = new Date(2015,6,05,10,55,30)
      console.log(d.getFullYear());
      console.log(d.getMonth());
      console.log(d.getTime());

      /**
         DOM
      **/
      // オブジェクトのプロパティを表示
      console.dir(window);
      console.log(window.outerHeight);
      //window.location.href='https://developer.mozilla.org/ja/'

      // スタイルの変更
      var e = document.getElementById('msg');
      e.style.color = 'red';
      e.textContent = 'hello!'
      e.className = 'myStyle';

      // 要素の追加
      var greet = document.createElement('p'),
          text = document.createTextNode('Hello World!');

      document.body.appendChild(greet).appendChild(text);

      /**
        イベントの設定
      **/
      document.getElementById('add').addEventListener('click',function(){
        // 要素の追加
        var greet = document.createElement('p'),
            text = document.createTextNode('Hello World!');
        document.body.appendChild(greet).appendChild(text);
      });

    </script>
  </body>
</html>
